@tailwind base;
@tailwind components;
@tailwind utilities;

/* Chatbot scaling - Scale fonts, spacing, and other rem-based sizes proportionally */
/* Calculate scale factor from baseFontSize (16px = scale 1, 18px = scale 1.125, etc.) */
.chatbot-container {
  --chatbot-font-base: 16px;
  --chatbot-scale: calc(var(--chatbot-font-base, 16px) / 16);
  /* Set base font-size on container - this makes em units relative to this */
  font-size: var(--chatbot-font-base, 16px);
}

/* Override Tailwind's rem-based text sizes to scale with baseFontSize prop */
.chatbot-container .text-xs { font-size: calc(var(--chatbot-font-base, 16px) * 0.75) !important; }
.chatbot-container .text-sm { font-size: calc(var(--chatbot-font-base, 16px) * 0.875) !important; }
.chatbot-container .text-base { font-size: var(--chatbot-font-base, 16px) !important; }
.chatbot-container .text-lg { font-size: calc(var(--chatbot-font-base, 16px) * 1.125) !important; }
.chatbot-container .text-xl { font-size: calc(var(--chatbot-font-base, 16px) * 1.25) !important; }
.chatbot-container .text-2xl { font-size: calc(var(--chatbot-font-base, 16px) * 1.5) !important; }
.chatbot-container .text-3xl { font-size: calc(var(--chatbot-font-base, 16px) * 1.875) !important; }
.chatbot-container .text-4xl { font-size: calc(var(--chatbot-font-base, 16px) * 2.25) !important; }

/* Ensure buttons and interactive elements inherit and scale font-size */
.chatbot-container button {
  font-size: inherit;
}

/* Scale all padding utilities - Convert rem multipliers to pixels using baseFontSize */
/* Formula: baseFontSize * remMultiplier (e.g., 18px * 0.25 = 4.5px for p-1) */
.chatbot-container .p-1 { padding: calc(var(--chatbot-font-base, 16px) * 0.25) !important; }
.chatbot-container .p-2 { padding: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .p-3 { padding: calc(var(--chatbot-font-base, 16px) * 0.75) !important; }
.chatbot-container .p-4 { padding: calc(var(--chatbot-font-base, 16px) * 1) !important; }
.chatbot-container .p-6 { padding: calc(var(--chatbot-font-base, 16px) * 1.5) !important; }
.chatbot-container .px-2 { padding-left: calc(var(--chatbot-font-base, 16px) * 0.5) !important; padding-right: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .px-3 { padding-left: calc(var(--chatbot-font-base, 16px) * 0.75) !important; padding-right: calc(var(--chatbot-font-base, 16px) * 0.75) !important; }
.chatbot-container .px-4 { padding-left: calc(var(--chatbot-font-base, 16px) * 1) !important; padding-right: calc(var(--chatbot-font-base, 16px) * 1) !important; }
.chatbot-container .px-5 { padding-left: calc(var(--chatbot-font-base, 16px) * 1.25) !important; padding-right: calc(var(--chatbot-font-base, 16px) * 1.25) !important; }
.chatbot-container .px-6 { padding-left: calc(var(--chatbot-font-base, 16px) * 1.5) !important; padding-right: calc(var(--chatbot-font-base, 16px) * 1.5) !important; }
.chatbot-container .py-1 { padding-top: calc(var(--chatbot-font-base, 16px) * 0.25) !important; padding-bottom: calc(var(--chatbot-font-base, 16px) * 0.25) !important; }
.chatbot-container .py-2 { padding-top: calc(var(--chatbot-font-base, 16px) * 0.5) !important; padding-bottom: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .py-3 { padding-top: calc(var(--chatbot-font-base, 16px) * 0.75) !important; padding-bottom: calc(var(--chatbot-font-base, 16px) * 0.75) !important; }
.chatbot-container .py-4 { padding-top: calc(var(--chatbot-font-base, 16px) * 1) !important; padding-bottom: calc(var(--chatbot-font-base, 16px) * 1) !important; }

/* Scale margin utilities */
.chatbot-container .m-1 { margin: calc(var(--chatbot-font-base, 16px) * 0.25) !important; }
.chatbot-container .m-2 { margin: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .m-4 { margin: calc(var(--chatbot-font-base, 16px) * 1) !important; }
.chatbot-container .m-6 { margin: calc(var(--chatbot-font-base, 16px) * 1.5) !important; }
.chatbot-container .mb-6 { margin-bottom: calc(var(--chatbot-font-base, 16px) * 1.5) !important; }

/* Scale gap utilities */
.chatbot-container .gap-2 { gap: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .gap-3 { gap: calc(var(--chatbot-font-base, 16px) * 0.75) !important; }
.chatbot-container .gap-4 { gap: calc(var(--chatbot-font-base, 16px) * 1) !important; }

/* Scale space utilities */
.chatbot-container .space-y-2 > * + * { margin-top: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .space-y-4 > * + * { margin-top: calc(var(--chatbot-font-base, 16px) * 1) !important; }
.chatbot-container .space-x-2 > * + * { margin-left: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .space-x-3 > * + * { margin-left: calc(var(--chatbot-font-base, 16px) * 0.75) !important; }

/* Scale border-radius */
.chatbot-container .rounded { border-radius: calc(var(--chatbot-font-base, 16px) * 0.25) !important; }
.chatbot-container .rounded-lg { border-radius: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .rounded-xl { border-radius: calc(var(--chatbot-font-base, 16px) * 0.75) !important; }
.chatbot-container .rounded-2xl { border-radius: calc(var(--chatbot-font-base, 16px) * 1) !important; }
.chatbot-container .rounded-full { border-radius: 9999px !important; }

/* Scale icon sizes (width/height) proportionally */
/* Tailwind: w-2 = 0.5rem, w-4 = 1rem, w-5 = 1.25rem, w-6 = 1.5rem, w-8 = 2rem, w-12 = 3rem */
.chatbot-container .w-2 { width: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .h-2 { height: calc(var(--chatbot-font-base, 16px) * 0.5) !important; }
.chatbot-container .w-4 { width: calc(var(--chatbot-font-base, 16px) * 1) !important; }
.chatbot-container .h-4 { height: calc(var(--chatbot-font-base, 16px) * 1) !important; }
.chatbot-container .w-5 { width: calc(var(--chatbot-font-base, 16px) * 1.25) !important; }
.chatbot-container .h-5 { height: calc(var(--chatbot-font-base, 16px) * 1.25) !important; }
.chatbot-container .w-6 { width: calc(var(--chatbot-font-base, 16px) * 1.5) !important; }
.chatbot-container .h-6 { height: calc(var(--chatbot-font-base, 16px) * 1.5) !important; }
.chatbot-container .w-8 { width: calc(var(--chatbot-font-base, 16px) * 2) !important; }
.chatbot-container .h-8 { height: calc(var(--chatbot-font-base, 16px) * 2) !important; }
.chatbot-container .w-12 { width: calc(var(--chatbot-font-base, 16px) * 3) !important; }
.chatbot-container .h-12 { height: calc(var(--chatbot-font-base, 16px) * 3) !important; }

/* Custom scrollbar styles for sidebar - overlay style (only shows when scrolling) */
.sidebar-scroll {
  scrollbar-width: thin;
  scrollbar-color: rgba(203, 213, 225, 0) transparent;
  scrollbar-gutter: stable;
}

.sidebar-scroll:hover,
.sidebar-scroll:focus-within {
  scrollbar-color: rgba(203, 213, 225, 0.6) transparent;
}

.sidebar-scroll::-webkit-scrollbar {
  width: 6px;
}

.sidebar-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar-scroll::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 3px;
  transition: background-color 0.2s ease;
}

.sidebar-scroll:hover::-webkit-scrollbar-thumb,
.sidebar-scroll:focus-within::-webkit-scrollbar-thumb,
.sidebar-scroll:active::-webkit-scrollbar-thumb {
  background-color: rgba(203, 213, 225, 0.6);
}

.sidebar-scroll::-webkit-scrollbar-thumb:hover {
  background-color: rgba(148, 163, 184, 0.8);
}

/* Dark mode scrollbar */
.dark .sidebar-scroll {
  scrollbar-color: rgba(74, 85, 104, 0) transparent;
}

.dark .sidebar-scroll:hover,
.dark .sidebar-scroll:focus-within {
  scrollbar-color: rgba(74, 85, 104, 0.6) transparent;
}

.dark .sidebar-scroll:hover::-webkit-scrollbar-thumb,
.dark .sidebar-scroll:focus-within::-webkit-scrollbar-thumb,
.dark .sidebar-scroll:active::-webkit-scrollbar-thumb {
  background-color: rgba(74, 85, 104, 0.6);
}

.dark .sidebar-scroll::-webkit-scrollbar-thumb:hover {
  background-color: rgba(113, 128, 150, 0.8);
}

/* Ensure sidebar scrolling works properly */
.sidebar-container {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.sidebar-content {
  flex: 1;
  overflow-y: auto;
  min-height: 0; /* Important for flex scrolling */
}

/* Custom scrollbar styles for main chatbot content - overlay style (only shows when scrolling) */
.chatbot-content-scroll {
  scrollbar-width: thin;
  scrollbar-color: rgba(203, 213, 225, 0) transparent;
  scrollbar-gutter: stable;
}

.chatbot-content-scroll:hover,
.chatbot-content-scroll:focus-within {
  scrollbar-color: rgba(203, 213, 225, 0.6) transparent;
}

.chatbot-content-scroll::-webkit-scrollbar {
  width: 0.5rem;
}

.chatbot-content-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.chatbot-content-scroll::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 2px;
  transition: background-color 0.2s ease;
}

.chatbot-content-scroll:hover::-webkit-scrollbar-thumb,
.chatbot-content-scroll:focus-within::-webkit-scrollbar-thumb,
.chatbot-content-scroll:active::-webkit-scrollbar-thumb {
  background-color: rgba(203, 213, 225, 0.6);
}

.chatbot-content-scroll::-webkit-scrollbar-thumb:hover {
  background-color: rgba(148, 163, 184, 0.8);
}

/* Dark mode scrollbar for main content */
.dark .chatbot-content-scroll {
  scrollbar-color: rgba(74, 85, 104, 0) transparent;
}

.dark .chatbot-content-scroll:hover,
.dark .chatbot-content-scroll:focus-within {
  scrollbar-color: rgba(74, 85, 104, 0.6) transparent;
}

.dark .chatbot-content-scroll:hover::-webkit-scrollbar-thumb,
.dark .chatbot-content-scroll:focus-within::-webkit-scrollbar-thumb,
.dark .chatbot-content-scroll:active::-webkit-scrollbar-thumb {
  background-color: rgba(74, 85, 104, 0.6);
}

.dark .chatbot-content-scroll::-webkit-scrollbar-thumb:hover {
  background-color: rgba(113, 128, 150, 0.8);
}

/* 3D effect for scroll to bottom button */
.chatbot-container .scroll-to-bottom-btn {
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2), 
              0 8px 10px -6px rgba(0, 0, 0, 0.1), 
              0 0 0 1px rgba(0, 0, 0, 0.05),
              inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transform: translateY(0);
}

.chatbot-container .scroll-to-bottom-btn:hover {
  box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.3), 
              0 15px 20px -6px rgba(0, 0, 0, 0.15), 
              0 0 0 1px rgba(0, 0, 0, 0.05),
              inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.chatbot-container .scroll-to-bottom-btn:active {
  box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.2), 
              0 4px 6px -6px rgba(0, 0, 0, 0.1), 
              0 0 0 1px rgba(0, 0, 0, 0.05),
              inset 0 2px 4px rgba(0, 0, 0, 0.1);
  transform: translateY(0);
}

.dark .chatbot-container .scroll-to-bottom-btn {
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.4), 
              0 8px 10px -6px rgba(0, 0, 0, 0.2), 
              0 0 0 1px rgba(255, 255, 255, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.dark .chatbot-container .scroll-to-bottom-btn:hover {
  box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.5), 
              0 15px 20px -6px rgba(0, 0, 0, 0.3), 
              0 0 0 1px rgba(255, 255, 255, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.1);
}